!function(){"use strict";console.log("resumeJourney file loaded");function e(){let e={id:"d4a3d14f_7617_4734_b005_dd3270ef6f25"==ReWebSDK.userRegister_payloadDefault.tenantId?"21232VISIONRETAIL":"21232DWWDWDW",source:"web",screenName:location.pathname,url:location.href};ReWebSDK.methods.clientApiService.resumeJourney(e).then((e=>{}))}const t=e=>{const t=[{pageName:"personalloan",fragementName:"personal",title:"Instant Personal Loan",content:"Hi, Vision bank is offering Personal loans at 10.25%. Complete your personal loan application now.",image:"https://visionbank.resulticks.net/images/resumeJourney/personal-loan.jpg"},{pageName:"autoloan",fragementName:"autoloan",title:"Drive your loan quickly",content:"Hi, Vision bank is offering Auto loans at 9.75%. Complete your auto loan application now.",image:"https://visionbank.resulticks.net/images/resumeJourney/auto-loan.jpg"},{pageName:"homeloan",fragementName:"homeloan",title:"Low Interest rate",content:"Hi, Vision bank is offering Home loans at 7.75%. Complete your home loan application now.",image:"https://visionbank.resulticks.net/images/resumeJourney/home-loan.jpg"},{pageName:"creditcard",fragementName:"creditcard",title:"Gear up for this season",content:"Hi, Vision bank offering a pre-approved credit card just for you. Complete your credit card application now.",image:"https://visionbank.resulticks.net/images/resumeJourney/credit-card.jpg"},{pageName:"savingaccount",fragementName:"saving",title:"Activate your account",content:"Hi, Your eKYC is pending. Finish your eKYC to activate your savings account.",image:"https://visionbank.resulticks.net/images/resumeJourney/savings.jpg"},{pageName:"apparel",fragementName:"television",title:"Get 50% off on your cart",content:"Here is a special offer for you. Now get 50% off on all vision retail apparel in your cart. Use offer code VIS50.",image:"https://visionretail.resulticks.net/images/resumeJourney/apparel.jpg"},{pageName:"mobile-product",fragementName:"mobile",title:"Get the Mobile phone Last viewed today",content:"You can avail our no cost EMI option to buy the latest Mobile phone Last viewed.",image:"https://visionretail.resulticks.net/images/resumeJourney/mobile-phone.jpg"},{pageName:"homeappliances",fragementName:"homeappliance",title:"Amazing trade-in offer",content:"Exclusive for you! trade-in your old appliances and get up to 60% off on purchase of new Appliances.",image:"https://visionretail.resulticks.net/images/resumeJourney/applience.jpg"},{pageName:"computerproducts",fragementName:"computers",title:"Top Deals",content:"Exclusive for you! Buy high performance laptop with 10% additional discount.",image:"https://visionretail.resulticks.net/images/resumeJourney/computer.jpg"}];let n=[];if("mobile"==e.source&&(n=t.filter((t=>e.fragmentName.toLocaleLowerCase().includes(t.fragementName)))),"web"==e.source&&(n=t.filter((t=>e.url.includes(t.pageName)))),n&&n.length){let{pageName:e,title:t,content:o,image:a}=n[0];return`<div id="resumeJourneyPopup" style="position: fixed;top: 35px;bottom: 0;left: 0;right: 0;background: rgba(0,0,0,.5);z-index: 9;display: flex;align-items: center;justify-content: center;">\n          <div style="background: #fff;padding: 15px;width: 45vw;padding-top: 5px;border-radius: 5px;max-width: 400px;">\n          <h3 style="margin: 10px 0;border-bottom: 1px solid #ccc;padding-bottom: 5px;">Resume journey</h3>\n          \n          <div class="resumeJourneyPopup_body">\n              <p style="margin-bottom:10px;">${t}</p>\n              <div class="resumeJourneyInfo">\n                  <img src="${a}" alt="">\n              </div>\n              <p style="line-height: 24px;">${o}</p>\n          </div>\n          <div class="resumeJourneyPopup_footer" style="text-align: right;margin-top: 20px;"></div>\n      </div>\n  </div><style>\t.resumeJourneyInfo {\n    display: flex;\n    height: 160px;\n    justify-content: center;\n    align-items: center;\n    margin: 0 0 10px;\n}\n\n.resumeJourneyInfo img {\n    max-width: 275px;\n    max-height: 160px;\n}</style>`}};setTimeout((()=>{e()}),1e4),setTimeout((()=>{e()}),1e3),window.resumeJourney=()=>new Promise(((n,o)=>{ReWebSDK.utils.SSH.getItem("resumeJournyData")?n(JSON.parse(ReWebSDK.utils.SSH.getItem("resumeJournyData"))):ReWebSDK.utils.SSH.getItem("resumeJournyAsked")?(setTimeout((()=>{e()}),3e3),o({type:!1,data:null})):(new Promise(((n,o)=>{const a={id:"d4a3d14f_7617_4734_b005_dd3270ef6f25"==ReWebSDK.userRegister_payloadDefault.tenantId?"21232VISIONRETAIL":"21232DWWDWDW"};let i=0;const r=()=>{ReWebSDK.methods.clientApiService.getLastVisit(a).then((a=>{try{0==a.status&&o({type:!1,...a})}catch(e){}e(),ReWebSDK.userRegister_payloadDefault.tenantId;const i=t(a);i&&document.body.insertAdjacentHTML("afterbegin",i);const r=document.createElement("button");r.style="margin-right: 10px;min-width: 80px;",r.className="btn btn-default",r.innerText="Continue",r.onclick=()=>{window.ReWebSDK.resumeJourneyCallback({type:!0,...a}),n({type:!0,...a}),document.querySelector("#resumeJourneyPopup").remove()};const s=document.createElement("button");s.style="min-width: 80px;",s.className="btn btn-default",s.innerText="Cancel",s.onclick=()=>{o({type:!1,...a}),document.querySelector("#resumeJourneyPopup").remove()},document.querySelector("#resumeJourneyPopup .resumeJourneyPopup_footer")&&document.querySelector("#resumeJourneyPopup .resumeJourneyPopup_footer").appendChild(r),document.querySelector("#resumeJourneyPopup .resumeJourneyPopup_footer")&&document.querySelector("#resumeJourneyPopup .resumeJourneyPopup_footer").appendChild(s),setTimeout((()=>{window.ReWebSDK.customEvent({eventName:"Resume Journey"},0)}),2500),n({type:!0,...a})}),(e=>{i<5?setTimeout((()=>{r(),i++}),1e3*i):o({type:!1,data:e})}))};window.ReWebSDK.utils.LSH.getItem("Res_Profile_Id")&&window.ReWebSDK.utils.LSH.getItem("Res_Passport_Id")&&window.ReWebSDK.utils.LSH.getItem("Res_Profile_Id")!==window.ReWebSDK.utils.LSH.getItem("Res_Passport_Id")&&r()})).then((e=>{e.type?(ReWebSDK.utils.SSH.setItem("resumeJournyData",JSON.stringify(e)),n(e)):o(e)}),(e=>{o(e)})),ReWebSDK.utils.SSH.setItem("resumeJournyAsked",!0))}))}();
