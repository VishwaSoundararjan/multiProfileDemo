!function(){"use strict";window.medantaModule={init:function(){let e,t=!0;try{try{let t=()=>{try{"serviceWorker"in navigator&&navigator.serviceWorker.getRegistrations().then((t=>{e=t[0]}))}catch(e){}},n=setInterval((()=>{try{t(),e&&clearInterval(n)}catch(e){}}),500)}catch(e){console.log("Error Occered ",e)}}catch(e){}try{let e,n=!1,r=!1;new MutationObserver((a=>{a.forEach((a=>{a.addedNodes.forEach((a=>{if(a.nodeType===Node.ELEMENT_NODE)try{const e=a.querySelector(".heading-group h3.primary-bold");if(!n&&location.href.includes("appointment-booked")){n=!0;let e={eventName:"Appointment Booked"};console.log(e),ReWebSDK.customEvent(e)}else if(!n&&e&&"Appointment Summary"===e.textContent){n=!0;let e={eventName:"Appointment Booked"};console.log(e),ReWebSDK.customEvent(e)}}catch(e){}if(a.nodeType===Node.ELEMENT_NODE){let n=a.querySelector(".container");if(location.href.includes("book-appointment"))try{let t=angular.element(n).scope().doctor.doctorDto;if(t){let n="";"string"==typeof t.prefix&&(n+=t.prefix+" "),"string"==typeof t.firstName&&(n+=t.firstName+" "),"string"==typeof t.middleName&&(n+=t.middleName+" "),"string"==typeof t.lastName&&(n+=t.lastName);let r={eventName:"Doctor selected",data:{name:n,location:t.locations[0].city,qualification:t.qualifications[0].description,specialization:t.specializations[0].description}};null!=e&&clearTimeout(e),e=setTimeout((()=>{console.log(r),ReWebSDK.customEvent(r)}),1e3)}}catch(e){}location.href.includes("dashboard")&&(r=!1);let i=document.querySelector(".radio-btn");if(location.href.includes("search")&&!r)try{let n=angular.element(i).scope().doctorData;if(n&&t){let a="";"string"==typeof n.prefix&&(a+=n.prefix+" "),"string"==typeof n.firstName&&(a+=n.firstName+" "),"string"==typeof n.middleName&&(a+=n.middleName+" "),"string"==typeof n.lastName&&(a+=n.lastName);let i="Doctor selected",o={name:a,location:n.locations[0].city,qualification:n.qualifications[0].description,specialization:n.specializations[0].description};console.log(n);let l={eventName:i,data:o};null!=e&&clearTimeout(e),e=setTimeout((()=>{console.log(l),ReWebSDK.customEvent(l),t=!1,r=!0}),1e3)}}catch(e){}}}))}))})).observe(document,{subtree:!0,childList:!0})}catch(e){}let n,r=[];document.addEventListener("click",(e=>{console.log("window ready"),console.log(e.target.innerText);let a="",i="",o={};try{(e.target.closest("#select-location, [select-location]")||e.target.parentElement.getAttribute("ng-repeat")&&e.target.parentElement.getAttribute("ng-repeat").includes("medantaLocation"))&&(a=e.target.innerText,i="All location",o={clickText:a},setTimeout((()=>{document.querySelectorAll(".doctor-details-block")&&document.querySelectorAll(".doctor-details-block").length&&(r=angular.element(document.querySelectorAll(".doctor-details-block")).scope())}),1e3))}catch(e){console.log(e)}try{(e.target.closest("[select-location]")||e.target.parentElement.getAttribute("ng-repeat")&&e.target.parentElement.getAttribute("ng-repeat").includes("medantaLocation"))&&(a=e.target.innerText,i="Location selected",o={clickText:a},setTimeout((()=>{document.querySelectorAll(".doctor-details-block")&&document.querySelectorAll(".doctor-details-block").length&&(r=angular.element(document.querySelectorAll(".doctor-details-block")).scope())}),1e3))}catch(e){console.log(e)}try{if(e.target.closest(".doctor-details-block")){r.selectDoctor=(e,t)=>{console.log(e,t)};let e=r&&r.doctor&&r.doctor.doctorDto?r.doctor.doctorDto:{};console.log(e);let t="";"string"==typeof e.prefix&&(t+=e.prefix+" "),"string"==typeof e.firstName&&(t+=e.firstName+" "),"string"==typeof e.middleName&&(t+=e.middleName+" "),"string"==typeof e.lastName&&(t+=e.lastName)}}catch(e){console.log(e)}try{let t="";if(e.target.closest(".modeOfConsultation")&&e.target.parentElement&&e.target.parentElement.querySelector(".mode-option")){e.target.closest(".modeOfConsultation");t=e.target.parentElement.querySelector(".mode-option").innerText,i="Consultation method selected",o={modeOfConsult:t}}}catch(e){console.log(e)}try{if("selectDateTime"==e.target.getAttribute("name")){let t="";e.target.parentElement.querySelector("button")&&(t=e.target.parentElement.querySelector("button").innerText),i="Appointment slot date selected",o={appointmentDate:t}}if("selectTimeSlot"==e.target.getAttribute("name")){let t="";e.target.parentElement.querySelector("button")&&(t=e.target.parentElement.querySelector("button").innerText),i="Appointment slot time selected",o={appointmentTime:t}}if("Proceed"==e.target.innerText.trim()&&"BUTTON"==e.target.tagName){let t="";document.querySelector(".selected-times span")&&(t=document.querySelector(".selected-times span").innerText),a=e.target.innerText.trim(),i="Appointment slot Selected",o={appointmentDateTime:t,clickText:a}}try{if(location.href.includes("book-appointment")&&e.target.closest("table[aria-labelledby*=datepicker]"))try{let e="",t=angular.element(document.querySelector(".input-row-3")).scope().date.toString();t&&(e=t,i="Appointment slot date selected",o={appointmentDate:e})}catch(e){}if(location.href.includes("book-appointment")&&e.target.closest("[name='preferredSlotTiming']")&&e.target.closest("[name='preferredSlotTiming']").getAttribute("value")){let t=e.target.closest("[name='preferredSlotTiming']").getAttribute("value");i="Appointment slot time selected",o={appointmentTime:t}}if(e.target.matches('.btn.btn-primary[ng-click="bookAppointmentSlotsUnavail()"]')&&"proceed"==e.target.innerText.trim()&&location.href.includes("book-appointment")){let t="";a=e.target.innerText.trim(),i="Appointment slot Selected",o={appointmentDateTime:t,clickText:a}}}catch(e){}if("generate otp"==e.target.innerText.trim().toLowerCase()&&"BUTTON"==e.target.tagName){a=e.target.innerText.trim();let t=angular.element($("#mobileLoginNumber")).scope()&&angular.element($("#mobileLoginNumber")).scope().loginWithMobile&&angular.element($("#mobileLoginNumber")).scope().loginWithMobile.mobileNumber?angular.element($("#mobileLoginNumber")).scope().loginWithMobile.mobileNumber:"";i="OTP clicked",o={mobileNumber:t,clickText:a}}"verify"==e.target.innerText.trim().toLowerCase()&&"BUTTON"==e.target.tagName&&(a=e.target.innerText.trim(),i="OTP verified",o={clickText:a}),"pay now"==e.target.innerText.trim().toLowerCase()&&"BUTTON"==e.target.tagName&&(a=e.target.innerText.trim(),i="Payment Button Click",o={clickText:a});try{if(e.target.classList.contains("radio-btn")&&"Add New Patient"!=e.target.innerText&&"INPUT"==e.target.tagName&&location.href.includes("book-appointment")){let t=angular.element(e.target).scope();try{t.selectedPatient&&Object.keys(t.selectedPatient).length&&(a=e.target.innerText,o={...t.selectedPatient,clickText:a},i="Patient Selected")}catch(e){}}}catch(e){}try{let t=angular.element(e.target).scope();e.target.matches("button.btn.btn-primary.ng-scope:not([ng-disabled])")&&"proceed"==e.target.innerText.trim().toLowerCase()&&location.href.includes("book-appointment")&&t.userRegistration&&(a=e.target.innerText.trim(),i="Patient Selected",o={clickText:a,...t.userRegistration})}catch(e){}try{let t=angular.element(e.target).scope();e.target.matches('.btn.btn-primary.ng-scope[ng-if="authenticateUser.activeTab==2"]')&&"proceed"==e.target.innerText.trim().toLowerCase()&&location.href.includes("search")&&t.registerdMedantaUser&&(a=e.target.innerText.trim(),i="Patient Selected",o={clickText:a,...t.registerdMedantaUser})}catch(e){}try{let t=angular.element(e.target).scope();location.href.includes("loginwithmobile-otp")&&"INPUT"==e.target.tagName&&t.selectedPatient&&(a=e.target.innerText,o={...t.selectedPatient,clickText:a},i="Patient Selected")}catch(e){}try{if(location.href.includes("loginwithmobile-otp")&&"PROCEED"==e.target.innerText.trim()){let t=angular.element(e.target).scope();ReWebSDK.utils.postItem("userEmailId",t.selectedPatient.EMAIL_ID),ReWebSDK.utils.postItem("userMobileNum",t.selectedPatient.MOBILE_NO)}}catch(e){}"continue"==e.target.innerText.trim().toLowerCase()&&e.target.parentElement&&e.target.parentElement.parentElement&&e.target.parentElement.parentElement.attributes&&e.target.parentElement.parentElement.attributes.name&&e.target.parentElement.parentElement.querySelector('[name="usernameLoginUsername"]')&&e.target.parentElement.parentElement.querySelector('[name="usernameLoginUsername"]').value&&e.target.parentElement.parentElement.querySelector('[name="usernameLoginPassword"]')&&e.target.parentElement.parentElement.querySelector('[name="usernameLoginPassword"]').value&&"usernameform"==e.target.parentElement.parentElement.attributes.name.value.toLowerCase()&&(a=e.target.innerText.trim(),i="Login with username",o={clickText:a}),"Forgot password?"==e.target.innerText.trim().toLowerCase()&&e.target.parentElement&&e.target.parentElement.parentElement&&e.target.parentElement.parentElement.attributes&&e.target.parentElement.parentElement.attributes.name&&e.target.parentElement.parentElement.querySelector('[name="usernameLoginUsername"]')&&e.target.parentElement.parentElement.querySelector('[name="usernameLoginUsername"]').value&&"usernameform"==e.target.parentElement.parentElement.attributes.name.value.toLowerCase()&&(a=e.target.innerText.trim(),i="Forgot password",o={clickText:a}),"Instant General Physician Consult"==e.target.innerText.trim()&&(a=e.target.innerText.trim(),i="Instant general physician consult",o={clickText:a}),"proceed"==e.target.innerText.trim().toLowerCase()&&document.querySelector("#termsAndConditionsModal")&&document.querySelector("#termsAndConditionsModal").style&&"block"==document.querySelector("#termsAndConditionsModal").style.getPropertyValue("display")&&(a=e.target.innerText.trim(),i="Instant general physician consult with proceed",o={clickText:a}),(e.target.parentElement&&"Female Doctor Only"==e.target.parentElement.innerText||e.target.parentElement.parentElement&&"Female Doctor Only"==e.target.parentElement.parentElement.innerText||"Female Doctor Only"==e.target.innerText)&&(a=e.target.innerText.trim()||e.target.parentElement.innerText||e.target.parentElement.parentElement.innerText,i="Female doctor only",o={clickText:a}),(e.target.parentElement&&"Paediatric Doctor Only"==e.target.parentElement.innerText||e.target.parentElement.parentElement&&"Paediatric Doctor Only"==e.target.parentElement.parentElement.innerText||"Paediatric Doctor Only"==e.target.innerText)&&(a=e.target.innerText.trim()||e.target.parentElement.innerText||e.target.parentElement.parentElement.innerText,i="Paediatric Doctor Only",o={clickText:a}),e.target.innerText&&e.target.innerText.trim().includes("I Know my ailment / illness")&&(a=e.target.innerText.trim(),i="I Know my ailment / illness",o={clickText:a}),e.target.innerText&&e.target.innerText.trim().includes("I Need a Specific treatment")&&(a=e.target.innerText.trim(),i="I Need a specific treatment",o={clickText:a}),e.target.innerText&&e.target.innerText.trim().includes("I Need a Specific treatment")&&(a=e.target.innerText.trim(),i="I Need a specific treatment",o={clickText:a}),e.target.innerText&&e.target.innerText.trim().includes("I Knowthe speciality")&&(a=e.target.innerText.trim(),i="I Know the speciality",o={clickText:a})}catch(e){console.log(e)}try{e.target.innerText&&e.target.innerText.trim().includes("Activate eCLINIC Account")&&(a=e.target.innerText.trim(),i="Activate eclinic account",o={clickText:a})}catch(e){console.log(e)}try{if(e.target.innerText&&e.target.innerText.trim().includes("Retrieve Patient ID")){let t=document.querySelector("#patientId")?document.querySelector("#patientId").value:"",n=document.querySelector('[name="contactNumber"]')?document.querySelector('[name="contactNumber"]').value:"",r=document.querySelector('[name="email"]')?document.querySelector('[name="email"]').value:"";a=e.target.innerText.trim(),i="Retrieve patient id",o={patientId:t,patientMobileNo:n,patientEmail:r}}}catch(e){console.log(e)}try{e.target.innerText&&e.target.innerText.trim().includes("Need more help finding a doctor")&&(a=e.target.innerText.trim(),i="Need more help finding a doctor",o={clickText:a})}catch(e){console.log(e)}try{e.target.innerText&&e.target.innerText.trim().includes("Click here")&&e.target.parentElement&&e.target.parentElement.innerText&&e.target.parentElement.innerText.includes("Medanta eCLINIC for the first time")&&(a=e.target.innerText.trim(),i="Need more help finding a doctor",o={clickText:a})}catch(e){console.log(e)}try{e.target.innerText&&e.target.innerText.trim().includes("MEET A DOCTOR")&&(a=e.target.innerText.trim(),i="MEET A DOCTOR",o={clickText:a})}catch(e){console.log(e)}try{e.target.innerText&&e.target.innerText.trim().includes("MY APPOINTMENTS")&&(a=e.target.innerText.trim(),i="MY APPOINTMENTS",o={clickText:a})}catch(e){console.log(e)}try{(e.target.innerText&&e.target.innerText.trim().includes("CONTACT US")||e.target.parentElement&&e.target.parentElement.innerText.includes("CONTACT US"))&&(a=e.target.innerText.trim(),i="CONTACT US",o={clickText:a})}catch(e){console.log(e)}try{(e.target.innerText&&e.target.innerText.trim().includes("MORE")||e.target.parentElement&&e.target.parentElement.innerText.includes("MORE"))&&(a=e.target.innerText.trim(),i="MORE",o={clickText:a})}catch(e){console.log(e)}try{if(location.href.includes("search")){let t=angular.element(e.target).scope();t.familyMember.familyMember&&(a=e.target.innerText,o={...t.familyMember.familyMember,clickText:a},i="Patient Selected")}}catch(e){}try{e.target.children&&e.target.children.length&&e.target.children[0].classList&&e.target.children[0].classList.contains("fa-phone")&&"A"==e.target.tagName&&(a=e.target.innerText.trim(),i="Customer Clicked on Call Button",o={clickText:a})}catch(e){console.log(e)}try{e.target.parentNode.textContent.includes("If your preferred slot isn't available, call us on")&&"A"==e.target.tagName&&(a=e.target.innerText.trim(),i="Customer Clicked on Call Button",o={clickText:a})}catch(e){console.log(e)}try{!e.target.innerText||"hospitals near me"!=e.target.innerText.trim().toLowerCase()&&"eclinic-telemedicine"!=e.target.innerText.trim().toLowerCase()&&"call us"!=e.target.innerText.trim().toLowerCase()&&"emergency : 1068"!=e.target.innerText.trim().toLowerCase()&&"find a doctor"!=e.target.innerText.trim().toLowerCase()&&"treatments"!=e.target.innerText.trim().toLowerCase()&&"specialities"!=e.target.innerText.trim().toLowerCase()&&"international patients"!=e.target.innerText.trim().toLowerCase()&&"facilities & services"!=e.target.innerText.trim().toLowerCase()&&"book video consult"!=e.target.innerText.trim().toLowerCase()&&"get cancer second opinion"!=e.target.innerText.trim().toLowerCase()&&"get medical second opinion"!=e.target.innerText.trim().toLowerCase()&&"book health check up"!=e.target.innerText.trim().toLowerCase()&&"book homecare services"!=e.target.innerText.trim().toLowerCase()&&"medanta cares"!=e.target.innerText.trim().toLowerCase()||(a=e.target.innerText.trim(),i="Menu clicks",o={clickText:a})}catch(e){console.log(e)}try{if(Object.keys(o).length){let e={eventName:i,data:o};null!=n&&clearTimeout(n),n=setTimeout((()=>{"Patient Selected"==e.eventName&&(t=!0),console.log(e),ReWebSDK.customEvent(e)}),1e3)}}catch(e){console.log(e)}}));try{window.addEventListener("beforeunload",(()=>{try{let t=ReWebSDK.utils.SSH.getItem("lastEvents");t&&e.active.postMessage({event:"lastEvent",data:t})}catch(e){}}))}catch(e){}}}}();
